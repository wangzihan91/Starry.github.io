<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>解锁页面 — 私人演示</title>
  <style>
    :root{
      --bg1:#0f172a; --bg2:#7c3aed;
      --accent: #ff6b6b; --glass: rgba(255,255,255,0.06);
    }
    html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,'Helvetica Neue',Arial}
    .app{height:100%;overflow:hidden;position:relative;background:linear-gradient(160deg,var(--bg1),#0b1220 40%,var(--bg2));color:#fff}

    .stack{height:300%;transition:transform .7s cubic-bezier(.2,.9,.2,1);}
    .screen{height:100vh;display:flex;align-items:center;justify-content:center;padding:32px;box-sizing:border-box}

    .unlock{flex-direction:column;text-align:center}
    .logo{font-weight:700;font-size:28px;letter-spacing:1px;margin-bottom:18px}
    .panel{width:340px;max-width:92vw;background:linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));border-radius:14px;padding:22px;backdrop-filter: blur(6px);box-shadow: 0 6px 30px rgba(2,6,23,0.6);}
    label{display:block;text-align:left;font-size:14px;color:rgba(255,255,255,0.9);margin-bottom:8px}
    input[type="password"]{width:100%;padding:12px 14px;border-radius:10px;border:none;background:rgba(255,255,255,0.03);color:white;font-size:16px;box-sizing:border-box}
    .hint{font-size:13px;margin-top:10px;color:rgba(255,255,255,0.6)}
    .btn{margin-top:12px;width:100%;padding:10px;border-radius:10px;border:none;background:linear-gradient(90deg,var(--accent),#ff9a6b);color:#111;font-weight:700;font-size:15px;cursor:pointer}
    .err{color:#ffb4b4;margin-top:10px;font-size:13px;min-height:18px}

    .swipeScreen{position:relative;overflow:hidden}
    .swipeHint{position:absolute;top:18px;left:0;right:0;text-align:center;font-size:14px;opacity:.9}
    .patternGrid{display:grid;grid-template-columns:repeat(3,1fr);gap:18px;width:min(980px,92vw);}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border-radius:16px;padding:18px;min-height:160px;display:flex;align-items:center;justify-content:center;position:relative;overflow:hidden}
    .curve{position:absolute;right:-20%;bottom:-40%;width:200%;height:200%;background:radial-gradient(circle at 30% 30%, rgba(255,106,156,0.18), transparent 25%), linear-gradient(120deg, rgba(124,58,237,0.14), rgba(255,107,107,0.06));transform:rotate(-18deg);filter:blur(12px);}
    .heart{width:80px;height:80px;position:relative}
    .heart:before,.heart:after{content:'';position:absolute;left:40px;top:0;width:40px;height:64px;background:radial-gradient(circle at 30% 20%, #ff6b6b, #ff3d6e);border-radius:40px 40px 0 0;transform:rotate(-45deg)}
    .heart:after{left:0;transform:rotate(45deg)}
    .gloss{position:absolute;inset:0;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent)}
    .pulse{animation:pulse 2.8s infinite}
    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.06)}100%{transform:scale(1)}}

    .final{display:flex;flex-direction:column;gap:14px;align-items:center;justify-content:center;background:linear-gradient(180deg,#071021,#0b1220);}
    .openNote{font-size:15px;color:rgba(255,255,255,0.9)}
    .openLink{padding:10px 16px;border-radius:12px;background:rgba(255,255,255,0.06);border:1px solid rgba(255,255,255,0.03);color:#fff;text-decoration:none}

    .small{font-size:13px;color:rgba(255,255,255,0.6)}
    @media (max-width:640px){.patternGrid{grid-template-columns:repeat(2,1fr)} .card{min-height:130px}}
  </style>
</head>
<body>
  <div class="app" id="app">
    <div class="stack" id="stack">
      <section class="screen unlock">
        <div class="panel" role="region" aria-label="解锁面板">
          <div class="logo">私人解锁面板</div>
          <form id="pwForm" autocomplete="off">
            <label for="pw">请输入密码以继续</label>
            <input id="pw" name="pw" type="password" placeholder="密码" required aria-required="true"/>
            <button class="btn" type="submit">解锁</button>
            <div class="err" id="err"></div>
            <div class="hint">密码格式为小写英文字母（示例）</div>
          </form>
        </div>
      </section>

      <section class="screen swipeScreen" id="swipeScreen">
        <div class="swipeHint">向上滑动 / 向上拖拽以进入下一页 ↑</div>
        <div class="patternGrid">
          <div class="card">
            <div class="curve"></div>
            <div class="heart pulse" aria-hidden="true"></div>
          </div>
          <div class="card">
            <div class="curve"></div>
            <div style="width:70px;height:70px;border-radius:50%;background:conic-gradient(#ff6b6b,#ff9a6b,#7c3aed);filter:blur(.2px);"></div>
          </div>
          <div class="card">
            <div class="curve"></div>
            <div style="font-size:22px;opacity:.95;">柔和的线条 · 流光</div>
          </div>
          <div class="card">
            <div class="curve"></div>
            <div style="width:70px;height:70px;border-radius:14px;background:linear-gradient(135deg,#7c3aed66,#ff6b6b66);box-shadow:0 6px 30px rgba(0,0,0,.25)"></div>
          </div>
          <div class="card">
            <div class="curve"></div>
            <div style="font-size:20px">温暖 · 诱惑 · 艳丽</div>
          </div>
          <div class="card">
            <div class="curve"></div>
            <div style="font-size:18px">轻触 · 享受</div>
          </div>
        </div>
      </section>

      <section class="screen final" id="final">
        <div>
          <div class="openNote">页面已打开外部链接（如果浏览器阻止弹出，请点击下面的按钮）</div>
          <div style="height:10px"></div>
          <a id="openBtn" class="openLink" href="https://b23.tv/RtDSAPY" target="_blank" rel="noopener noreferrer">打开 b23.tv/RtDSAPY</a>
        </div>
      </section>

    </div>
  </div>

  <script>
    (function(){
      const PASSWORD = 'xiaoyuniubi';
      const stack = document.getElementById('stack');
      const pwForm = document.getElementById('pwForm');
      const pwInput = document.getElementById('pw');
      const err = document.getElementById('err');
      const swipeScreen = document.getElementById('swipeScreen');
      let currentIndex = 0;

      pwForm.addEventListener('submit', function(e){
        e.preventDefault();
        const v = (pwInput.value||'').trim();
        if(v === PASSWORD){
          err.textContent='';
          goTo(1);
        } else {
          err.textContent='密码错误，请重试';
          pwInput.value='';
          pwInput.focus();
        }
      });

      function goTo(i){
        currentIndex = i;
        stack.style.transform = `translateY(-${i*100}vh)`;
        if(i===2) enterFinal();
      }

      (function(){
        let startY = null, lastY = null, isTouch = false;
        const threshold = 90;

        function onStart(y){ startY = y; lastY = y; }
        function onMove(y){ if(startY==null) return; lastY = y; }
        function onEnd(){
          if(startY==null) return; const dy = startY - lastY; startY = null; lastY = null;
          if(dy > threshold){
            if(currentIndex===1) goTo(2);
          }
        }

        swipeScreen.addEventListener('touchstart', e=>{ isTouch=true; onStart(e.touches[0].clientY); },{passive:true});
        swipeScreen.addEventListener('touchmove', e=>{ onMove(e.touches[0].clientY); },{passive:true});
        swipeScreen.addEventListener('touchend', onEnd);

        swipeScreen.addEventListener('mousedown', e=>{ isTouch=false; onStart(e.clientY); e.preventDefault(); });
        window.addEventListener('mousemove', e=>{ if(startY!=null && !isTouch) onMove(e.clientY); });
        window.addEventListener('mouseup', onEnd);

        swipeScreen.addEventListener('wheel', e=>{
          if(e.deltaY < -40 && currentIndex===1) goTo(2);
        });
      })();

      function enterFinal(){
        const url = 'https://b23.tv/RtDSAPY';
        try{
          const w = window.open(url, '_blank');
          if(!w){
            console.warn('Popup was blocked — please click the button to open the link.');
          }
        }catch(e){ console.warn('open failed', e); }
      }

      pwInput.focus();
      window.addEventListener('keydown', e=>{ if(e.key==='Escape'){ goTo(0); pwInput.focus(); } });
    })();
  </script>
</body>
</html>
